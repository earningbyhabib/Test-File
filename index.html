<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>ржЯрзЗржорзНржк ржорзЗржЗрж▓ рж░рж┐рж╕рж┐ржнрж╛рж░</title>
  <style>
    body { font-family: sans-serif; background: #f0f0f0; padding: 20px; text-align: center; }
    .box { background: white; border-radius: 10px; padding: 20px; max-width: 500px; margin: auto; box-shadow: 0 0 10px #ccc; }
    .email { font-size: 18px; margin-bottom: 10px; word-break: break-all; }
    button { padding: 8px 15px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
    .inbox { margin-top: 20px; text-align: left; max-height: 300px; overflow-y: auto; background: #f9f9f9; border: 1px solid #ccc; padding: 10px; border-radius: 5px; }
    .mail-item { margin-bottom: 10px; padding: 8px; background: #fff; border-radius: 5px; border-left: 4px solid #2196f3; }
  </style>
</head>
<body>

<div class="box">
  <h2>ЁЯУз ржЯрзЗржорзНржк ржорзЗржЗрж▓ рж░рж┐рж╕рж┐ржнрж╛рж░</h2>
  <div class="email" id="email">рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>
  <button onclick="generateEmail()">тЬПя╕П ржорзЗржЗрж▓ ржкрж░рж┐ржмрж░рзНрждржи</button>
  <button onclick="copyEmail()">ЁЯУЛ ржХржкрж┐</button>

  <div class="inbox" id="inbox">ЁЯУн ржорзЗржЗрж▓ рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>
</div>

<script>
let email = '';
let inboxBox = document.getElementById('inbox');

function generateEmail() {
  const name = Math.random().toString(36).substring(2, 10);
  email = `${name}@tmailor.com`;
  document.getElementById('email').innerText = email;
  loadInbox();
}

function copyEmail() {
  navigator.clipboard.writeText(email).then(() => {
    alert("тЬЕ ржХржкрж┐ рж╣ржпрж╝рзЗржЫрзЗ: " + email);
  });
}

function loadInbox() {
  inboxBox.innerHTML = "ЁЯУн ржорзЗржЗрж▓ рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...";
  fetch(`https://tmailor.com/api/mailbox/${email}`)
    .then(res => res.json())
    .then(data => {
      inboxBox.innerHTML = '';
      if (!data.messages || data.messages.length === 0) {
        inboxBox.innerHTML = "тЭМ ржПржЦржирзЛ ржХрзЛржи ржорзЗржЗрж▓ ржЖрж╕рзЗржирж┐!";
        return;
      }
      data.messages.forEach(msg => {
        const item = document.createElement('div');
        item.className = 'mail-item';
        item.innerHTML = `<b>ЁЯУи ржкрзНрж░рзЗрж░ржХ:</b> ${msg.from} <br> 
                          <b>ЁЯУЭ ржмрж┐рж╖ржпрж╝:</b> ${msg.subject} <br> 
                          <b>тП░ рж╕ржоржпрж╝:</b> ${msg.date}`;
        inboxBox.appendChild(item);
      });
    }).catch(err => {
      inboxBox.innerHTML = "тЭМ рж▓рзЛржб ржХрж░рждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржЪрзНржЫрзЗред";
    });
}

// Auto-refresh inbox every 10 seconds
setInterval(() => {
  if (email) loadInbox();
}, 10000);

// Initial run
generateEmail();
</script>

</body>
</html>
